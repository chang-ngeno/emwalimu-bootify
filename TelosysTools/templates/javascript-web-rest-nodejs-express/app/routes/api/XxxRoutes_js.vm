/*
 * Created on $today.date ( Time $today.time )
 * Generated by $generator.name ( version $generator.version )
 */
#set ( $uncapitalizedEntityName = ${fn.uncapitalize($entity.name)})
##
#set ( $entityAttributes = "" )
#foreach ( $key in $entity.keyAttributes )
#if ( $foreach.count > 1 )
#set ( $entityAttributes = $entityAttributes + "/:" )
#end
#set ( $entityAttributes = $entityAttributes + ${fn.uncapitalize($key.name)} )
#end

// Load Modules
const express = require('express');
const router = express.Router();

// Load controller
const ${entity.name}Controller = require('../../controller/${entity.name}Controller');
const ${uncapitalizedEntityName}Controller = new ${entity.name}Controller();

/**
 * $entity API routes
 */

router.get('/count', function (req, res) {
    ${uncapitalizedEntityName}Controller.countAll(res);
});

router.get('/exists/:$entityAttributes', function (req, res) {
    ${uncapitalizedEntityName}Controller.exists(req, res);
});

router.get('/:$entityAttributes', function (req, res) {
    ${uncapitalizedEntityName}Controller.findById(req, res);
});

router.get('', function (req, res) {
    ${uncapitalizedEntityName}Controller.findAll(res);
});

router.put('/:$entityAttributes', function (req, res) {
    ${uncapitalizedEntityName}Controller.update(req, res);
});

router.put('', function (req, res) {
    ${uncapitalizedEntityName}Controller.save(req, res);
});

router.post('/', function (req, res) {
    ${uncapitalizedEntityName}Controller.create(req, res);
});

router.delete('/:$entityAttributes', function (req, res) {
    ${uncapitalizedEntityName}Controller.deleteById(req, res);
});

const ${entity.name}Routes = router;

module.exports = router;